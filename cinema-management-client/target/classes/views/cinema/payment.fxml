<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.cinema.controllers.cinema.PaymentController"
            styleClass="payment-root"
            stylesheets="@../../styles/payment.css">

    <!-- HEADER vá»›i nÃºt Back -->
    <top>
        <HBox alignment="CENTER_LEFT" styleClass="header-bar" spacing="15">
            <padding>
                <Insets top="20" right="100" bottom="20" left="100"/>
            </padding>

            <Button fx:id="backButton" styleClass="back-button" text="â†" onAction="#handleBack"/>
       

            <Region HBox.hgrow="ALWAYS"/>
        </HBox>
    </top>

    <!-- MAIN CONTENT -->
    <center>
        <ScrollPane fitToWidth="true" styleClass="payment-scroll">
            <VBox styleClass="payment-container" spacing="30" alignment="TOP_CENTER">
            <padding>
                <Insets top="20" right="100" bottom="50" left="100"/>
            </padding>
            
                <!-- TIÃŠU Äá»€ -->
                <VBox alignment="CENTER" spacing="15">
                    <Label text="Thanh toÃ¡n Ä‘Æ¡n hÃ ng" styleClass="payment-title"/>
                    
                    <!-- MÃƒ Äáº¶T VÃ‰ -->
                    <HBox alignment="CENTER" spacing="10" styleClass="booking-code-container">
                        <Label text="MÃ£ Ä‘áº·t vÃ©:" styleClass="booking-code-label"/>
                        <Label fx:id="bookingCodeLabel" text="BOOK20251209001" styleClass="booking-code-value"/>
                    </HBox>
                </VBox>

                <!-- LAYOUT CHÃNH: 2 cá»™t -->
                <HBox spacing="20" alignment="TOP_CENTER">
                    
                    <!-- Cá»˜T TRÃI: THÃ”NG TIN Äá»šN HÃ€NG -->
                    <VBox spacing="20" styleClass="order-summary-section" HBox.hgrow="SOMETIMES">
                        <Label text="ThÃ´ng tin Ä‘Æ¡n hÃ ng" styleClass="section-title"/>
                        
                        <!-- THÃ”NG TIN PHIM -->
                        <HBox spacing="15" styleClass="movie-info-box">
                            <ImageView fx:id="moviePosterImage" fitWidth="100" fitHeight="140" 
                                       preserveRatio="true" styleClass="movie-poster"/>
                            
                            <VBox spacing="12" VBox.vgrow="ALWAYS">
                                <Label fx:id="movieTitleLabel" text="VÃµ SÄ© GiÃ¡c Äáº¥u II" 
                                       styleClass="movie-title-label" wrapText="true"/>
                                
                                <VBox spacing="6">
                                    <HBox spacing="8">
                                        <Label text="ðŸ“" styleClass="info-icon"/>
                                        <Label fx:id="cinemaInfoLabel" text="CGV Vincom â€¢ PhÃ²ng 5" 
                                               styleClass="info-label" wrapText="true"/>
                                    </HBox>
                                    
                                    <HBox spacing="8">
                                        <Label text="ðŸ•" styleClass="info-icon"/>
                                        <Label fx:id="showtimeLabel" text="Thá»© 3, 09/12/2025 â€“ 20:20" 
                                               styleClass="info-label" wrapText="true"/>
                                    </HBox>
                                    
                                    <HBox spacing="8">
                                        <Label text="ðŸŽ«" styleClass="info-icon"/>
                                        <Label fx:id="seatsLabel" text="H13" 
                                               styleClass="info-label" wrapText="true"/>
                                    </HBox>
                                    
                                    <HBox spacing="8">
                                        <Label text="ðŸ¿" styleClass="info-icon"/>
                                        <Label fx:id="combosLabel" text="Combo Couple Ã—1, Combo Solo Ã—2" 
                                               styleClass="info-label" wrapText="true"/>
                                    </HBox>
                                </VBox>
                            </VBox>
                        </HBox>
                        
                        <!-- Tá»”NG TIá»€N -->
                        <Separator styleClass="payment-separator"/>
                        
                        <HBox alignment="CENTER" styleClass="total-price-box">
                            <Label text="Tá»”NG TIá»€N: " styleClass="total-label"/>
                            <Label fx:id="totalPriceLabel" text="405.000 Ä‘" styleClass="total-price"/>
                        </HBox>
                    </VBox>

                    <!-- Cá»˜T PHáº¢I: THÃ”NG TIN THANH TOÃN -->
                    <VBox spacing="25" styleClass="payment-section" HBox.hgrow="SOMETIMES" alignment="CENTER">
                        
                        <!-- HÆ¯á»šNG DáºªN -->
                        <VBox spacing="10" styleClass="instruction-box">
                            <Label text="HÆ°á»›ng dáº«n thanh toÃ¡n" styleClass="instruction-title"/>
                            <Label text="QuÃ½ khÃ¡ch vui lÃ²ng thanh toÃ¡n chÃ­nh xÃ¡c sá»‘ tiá»n báº±ng má»™t trong cÃ¡c cÃ¡ch sau:" 
                                   styleClass="instruction-text" wrapText="true"/>
                        </VBox>
                        
                        <!-- MÃƒ QR SIÃŠU TO -->
                        <VBox alignment="CENTER" spacing="15" styleClass="qr-container">
                            <ImageView fx:id="qrCodeImage" fitWidth="350" fitHeight="350" 
                                       preserveRatio="true" styleClass="qr-image"/>
                            <Label text="QuÃ©t mÃ£ QR Ä‘á»ƒ thanh toÃ¡n" styleClass="qr-instruction"/>
                        </VBox>
                        
                        <!-- THÃ”NG TIN CHUYá»‚N KHOáº¢N -->
                        <VBox spacing="12" styleClass="bank-info-box">
                            <Label text="ThÃ´ng tin chuyá»ƒn khoáº£n" styleClass="bank-info-title"/>
                            
                            <HBox spacing="10" alignment="CENTER_LEFT">
                                <Label text="NgÃ¢n hÃ ng:" styleClass="bank-label"/>
                                <Label fx:id="bankNameLabel" text="Vietcombank" styleClass="bank-value"/>
                            </HBox>
                            
                            <HBox spacing="10" alignment="CENTER_LEFT">
                                <Label text="Chá»§ tÃ i khoáº£n:" styleClass="bank-label"/>
                                <Label fx:id="accountHolderLabel" text="CÃ”NG TY TNHH CINEMA PRO" 
                                       styleClass="bank-value" wrapText="true"/>
                            </HBox>
                            
                            <HBox spacing="10" alignment="CENTER_LEFT">
                                <Label text="Sá»‘ tÃ i khoáº£n:" styleClass="bank-label"/>
                                <Label fx:id="accountNumberLabel" text="9999 8888 7777" styleClass="bank-value"/>
                            </HBox>
                            
                            <HBox spacing="10" alignment="CENTER_LEFT">
                                <Label text="Ná»™i dung CK:" styleClass="bank-label"/>
                                <Label fx:id="transferContentLabel" text="BOOK20251209001" styleClass="bank-value-highlight"/>
                                <Button fx:id="copyButton" text="ðŸ“‹ Copy" styleClass="copy-button" onAction="#handleCopyTransferContent"/>
                            </HBox>
                            
                            <HBox spacing="10" alignment="CENTER_LEFT">
                                <Label text="Sá»‘ tiá»n:" styleClass="bank-label"/>
                                <Label fx:id="amountLabel" text="405.000 Ä‘" styleClass="bank-value-amount"/>
                            </HBox>
                        </VBox>
                        
                        <!-- Äá»’NG Há»’ Äáº¾M NGÆ¯á»¢C -->
                        <HBox alignment="CENTER" spacing="10" styleClass="countdown-box">
                            <Label text="â±" styleClass="countdown-icon"/>
                            <Label text="Vui lÃ²ng thanh toÃ¡n trong vÃ²ng:" styleClass="countdown-label"/>
                            <Label fx:id="countdownLabel" text="14:59" styleClass="countdown-time"/>
                        </HBox>
                        
                        <!-- NÃšT XÃC NHáº¬N -->
                        <Button fx:id="confirmPaymentButton" text="âœ“ TÃ´i Ä‘Ã£ thanh toÃ¡n xong" 
                                styleClass="confirm-payment-button" onAction="#handleConfirmPayment"/>
                        
                        <!-- WARNING -->
                        <Label text="âš  LÆ°u Ã½: Vui lÃ²ng chuyá»ƒn khoáº£n Ä‘Ãºng ná»™i dung Ä‘á»ƒ há»‡ thá»‘ng tá»± Ä‘á»™ng xÃ¡c nháº­n" 
                               styleClass="warning-text" wrapText="true"/>
                    </VBox>
                    
                </HBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
